环境ubuntu(走了些弯路，可直接参考https://www.comblockengine.com/docs/1.0/install/index/)

1. 远程登陆，安装mysql，注意记住过程中设置的root账户密码Asd123456
    1. sudo apt-get install mysql-server 
    2. apt-get isntall mysql-client 
    3. apt-get install libmysqld-dev
    4. sudo apt-get install libmysqlclient-dev
    5. sudo netstat -antup | grep mysql #检查mysql端口是否已在监听
    6. mysql -u root -p #使用用户名/密码登录到mysql，然后使用命令show databases/show tables
2. 安装vsftp
    1. sudo apt-get install vsftpd
    2. sudo systemctl enable vsftpd #开机自动启动vsftp
    3. sudo systemctl start vsftpd #启动vsftp
    4. sudo netstat -antup | grep vsftp #检查ftp端口是否已在监听
    5. 添加用户 并创建 目录
        1. sudo adduser vsftpuser
        2. cat passwd #检查用户名创建成功
        3. sudo mkdir /home/vsftpuser/ftp
        4. sudo chown vsftpuser:vsftpuser /home/vsftpuser/ftp
        5. sudo chmod a-w /home/vsftpuser/ftp #vsftp会要求用户根目录不可写，即根目录下不能传文件
    6. vi /etc/vsftpd.conf #配置vsftp， default 不变，打开如下
        1. write_enable=YES
        2. chroot_local_user=YES
        3. user_sub_token=$USER
        4. local_root=/home/$USER/ftp
    7. sudo systemctl restart vsftpd #重启动vsftp
    8. 防火墙添加 TCP 21端口
    9. 在windows客户端命令行执行 ftp -d ip，检查错误
    10. 使用filezilla连接，如果不能列出目录，传输模式可能需要设为主动
3. 通过ftp上传服务端，编译代码
    1. 安装环境apt-get install autoconf libtool
    2. 也许还需要安装build-essential libsysfs-dev pkg-config
    2. cd kbengine/kbe/src
    3. chmod -R 755 .
    4. make
4. IP端口配置/防火墙/安全组配置/优化
    1. kbengine.xml
        1. 特别对于loginapp连接baseapp时取的是网卡ip，这个ip可能是内网ip，所以需要设置externalAddress
        2. 如果多开baseapp，注意在externalPorts_min/externalPorts_max设置
        3. 在bat/sh中启动多个base/cell，须在machine/addresses/item/添加127.0.0.1；在webconsole中添加没这个问题
    2. 端口（查看端口 lsof -i:port号）
        1. loginapp
            1. 外部TCP端口 : 20013		    // 登录端口
            2. 外部TCP端口 : 21103		    // Email账号激活、密码重置等等处理的回调接口
        2. baseapp
            1. 外部TCP端口 : 20015, ...	    // 网关端口(externalPorts_min->externalPorts_max)
            2. 外部UDP端口 : 20005, ...	    // 网关端口(externalPorts_min->externalPorts_max)
        3. 其它内部端口
            1. 内部TCP端口 : 20099		    // machine：工具直接访问端口
            2. 内部TCP端口 : 40000		    // baseapp: Telnet服务端口(用于调试等)
            3. 内部TCP端口 : 50000		    // cellapp: Telnet服务端口(用于调试等)
            4. 内部UDP端口 : 20086-20088	// 探测和感知其他组件的存在, 组成为一个网络服务组，多开base/cell时需要
    3. 优化 kbe/tools/server/linux/socket_optimization.sh 
        1. /etc/rc.local 不工作，需要手动调节
        2. TODO： 在shell script中修改ulimit 无效
5. 其它错误说明
    1. Exception occurred:REASON_GENERAL_NETWORK 在bot报，代表客户端断线了
 